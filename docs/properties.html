<!DOCTYPE html>
<html lang="en">
    <head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

 	<!--===================== General OG data =========================-->
	<meta property="og:title" content="Viola Real Estate" />
	<meta property="og:description" content="Properties all accross Namibia" />
	<meta property="og:determiner" content="an" />
	<meta property="og:site_name" content="Viola Real Estate" />
	<meta property="og:image" content="https://viola-estates.space/img/logo.png" />
	<meta property="og:image:secure_url" content="https://viola-estates.space/img/logo.png" />
	<meta property="og:image:type" content="image/png" />
	<meta property="og:image:width" content="300" />
	<meta property="og:image:height" content="300" />
	<meta property="og:image:alt" content="Viola Real Estate" />
	<meta property="og:type" content="article">
	<meta property="article:publisher" content="https://viola-estates.space/img/logo.png">
	<meta property="article:published_time" content="2020">
	<meta property="og:url" content="https://viola-estates.space/img/logo.png">
	<meta property="og:locale" content="en_GB">
	<meta property="og:website" content="https://viola-estates.space/img/logo.png">

	<!--===================== Twitter OG data =========================-->
	<meta name="twitter:title" content="Viola Real Estate">
	<meta name="twitter:description" content="Properties all accross Namibia">
	<meta name="twitter:image" content="https://viola-estates.space/img/logo.png">
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:site" content="Viola Real Estate">

	<title>Properties | Viola Real Estate</title>
	<style>
         * {
             margin: 0;
             padding: 0;
             box-sizing: border-box;
             font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
         }

         body {
             background-color: #f5f7fa;
             color: #333;
             line-height: 1.6;
         }

         header {
	     background: #476cd1;
	     background: linear-gradient(270deg, rgba(71, 108, 209, 1) 26%, rgba(237, 221, 83, 1) 83%, rgba(237, 221, 83, 1) 100%);
             color: white;
             padding: 2rem 0;
             text-align: center;
             box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
         }

         h1 {
             font-size: 2.5rem;
             margin-bottom: 0.5rem;
         }

         .subtitle {
             font-size: 1.1rem;
             opacity: 0.9;
         }

         .container {
             max-width: 1200px;
             margin: 2rem auto;
             padding: 0 1.5rem;
         }

         .loading {
             text-align: center;
             padding: 2rem;
             font-size: 1.2rem;
             color: #6a11cb;
         }

         .error {
             text-align: center;
             padding: 2rem;
             color: #e74c3c;
             background-color: #ffeaea;
             border-radius: 8px;
             margin: 1rem 0;
         }

         .products-grid {
             display: grid;
             grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
             gap: 1.5rem;
             margin-top: 2rem;
         }

         .product-card {
             background: white;
             border-radius: 10px;
             overflow: hidden;
             box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
             transition: transform 0.3s ease, box-shadow 0.3s ease;
         }

         .product-card:hover {
             transform: translateY(-5px);
             box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
         }

         .product-image {
             width: 100%;
             height: 200px;
             object-fit: cover;
             background-color: #f0f0f0;
         }

         .product-info {
             padding: 1.5rem;
         }

         .product-title {
             font-size: 1.2rem;
             font-weight: 600;
             margin-bottom: 0.5rem;
             color: #2c3e50;
         }

         .product-description {
             color: #7f8c8d;
             font-size: 0.9rem;
             margin-bottom: 1rem;
             display: -webkit-box;
             -webkit-line-clamp: 2;
             -webkit-box-orient: vertical;
             overflow: hidden;
         }

         .product-price {
             font-size: 1.3rem;
             font-weight: 700;
             color: #6a11cb;
             margin-bottom: 1rem;
         }

         .product-category {
             display: inline-block;
             background-color: #e1e8ff;
             color: #2575fc;
             padding: 0.3rem 0.8rem;
             border-radius: 20px;
             font-size: 0.8rem;
             font-weight: 500;
         }

         .rating {
             display: flex;
             align-items: center;
             margin-top: 0.5rem;
         }

         .stars {
             color: #f39c12;
             margin-right: 0.5rem;
         }

         .rating-count {
             color: #7f8c8d;
             font-size: 0.9rem;
         }

         .search-container {
             display: flex;
             justify-content: center;
             margin: 1.5rem 0;
         }

         .search-box {
             width: 100%;
             max-width: 500px;
             padding: 0.8rem 1.5rem;
             border: none;
             border-radius: 30px;
             box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
             font-size: 1rem;
             outline: none;
             transition: box-shadow 0.3s ease;
         }

         .search-box:focus {
             box-shadow: 0 4px 15px rgba(106, 17, 203, 0.2);
         }

         footer {
             text-align: center;
             padding: 2rem;
             margin-top: 3rem;
             color: #7f8c8d;
             border-top: 1px solid #eaeaea;
         }

         @media (max-width: 768px) {
             .products-grid {
                 grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
             }

             h1 {
                 font-size: 2rem;
             }
         }

         @media (max-width: 480px) {
             .products-grid {
                 grid-template-columns: 1fr;
             }

             .container {
                 padding: 0 1rem;
             }
         }
	</style>
    </head>
    <body>
	<header>
            <img src="img/logo.png">
            <p class="subtitle">Our Properties</p>
	</header>

	<div class="container">
            <div class="search-container">
		<input type="text" class="search-box" placeholder="Search products..." id="searchInput">
            </div>

            <div id="loading" class="loading">
		Loading Itinerary...
            </div>

            <div id="error" class="error" style="display: none;">
		Failed to load products. Please try again later.
            </div>

            <div class="products-grid" id="productsGrid">
		<!-- Products will be inserted here by JavaScript -->
            </div>
	</div>

	<footer>
            <p>Website By <a href="https://bizkit.network">Bizkit Network</a></p>
	</footer>

	<script>
	 // Using the Fake Store API for demonstration
	 const API_URL = 'https://api.bizkit.network/public/products/smes/violarealestate';

	 // DOM elements
	 const productsGrid = document.getElementById('productsGrid');
	 const loadingElement = document.getElementById('loading');
	 const errorElement = document.getElementById('error');
	 const searchInput = document.getElementById('searchInput');

	 let products = [];

	 // Fetch products from API
	 async function fetchProducts() {
             try {
		 loadingElement.style.display = 'block';
		 errorElement.style.display = 'none';

		 const response = await fetch(API_URL);

		 if (!response.ok) {
		     throw new Error('Failed to fetch products');
		 }

		 products = await response.json();
		 displayProducts(products);

             } catch (error) {
		 console.error('Error fetching products:', error);
		 errorElement.style.display = 'block';
             } finally {
		 loadingElement.style.display = 'none';
             }
	 }

	 // Display products in the grid
	 function displayProducts(productsToDisplay) {
             productsGrid.innerHTML = '';

             if (productsToDisplay.length === 0) {
		 productsGrid.innerHTML = '<p class="error" style="grid-column: 1 / -1;">No products found matching your search.</p>';
		 return;
             }

             productsToDisplay.forEach(product => {
		 const productCard = document.createElement('div');
		 productCard.className = 'product-card';
		 var price = 0;

		 if (product.price){
		     // Format price
		     price = new Intl.NumberFormat('en-US', {
			 style: 'currency',
			 currency: 'NAD'
		     }).format(product.price);

		 }

		 // Create star rating
		 //const ratingStars = '★'.repeat(Math.round(product.rating.rate)) + '☆'.repeat(5 - Math.round(product.rating.rate));

		 var description = "";
		 var photo = "";
		 var photo_mime_type = "";

		 if (product.description){
		     description = product.description;
		 }

		 if (product.photo){
		     photo = product.photo;
		 }

		 if (product.photo){
		     photo = product.photo;
		 }

		 if (product.photo_mime_type){
		     photo_mime_type = product.photo_mime_type;
		 }

		 productCard.innerHTML = `
            <img src="data:${photo_mime_type};base64,${photo}" alt="${product.name}" class="product-image">
              <div class="product-info">
                <h3 class="product-title">${product.name}</h3>
                <p class="product-description">${description}</p>
                <div class="product-price">${price}</div>
                <span class="product-category">Category</span>
                <div class="rating">
                    <span class="stars">***</span>
                    <span class="rating-count">(84)</span>
                </div>
            </div>
            `;

            productsGrid.appendChild(productCard);
            });
            }

            // Filter products based on search input
            function filterProducts() {
            const searchTerm = searchInput.value.toLowerCase();

            if (searchTerm === '') {
            displayProducts(products);
            return;
            }

            const filteredProducts = products.filter(product =>
            product.name.toLowerCase().includes(searchTerm) ||
            product.description.toLowerCase().includes(searchTerm)
            // || product.category.toLowerCase().includes(searchTerm)
            );

            displayProducts(filteredProducts);
            }

            // Event listeners
            searchInput.addEventListener('input', filterProducts);

            // Initialize the page
	    document.addEventListener('DOMContentLoaded', fetchProducts);
	</script>
    </body>
</html>
